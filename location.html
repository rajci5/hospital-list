<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose Location - Free Hospital Directory India</title>
    <meta name="description" content="Select your district or PIN code to get hospitals closest to you. Free treatment centers in your area.">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXX" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header Ad -->
        <div class="ad-banner">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-XXXXXXXXXX"
                 data-ad-slot="XXXXXXXXXX"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
        </div>

        <div class="header">
            <h1>🏥 Free Hospital Directory India</h1>
            <p>Find government and charitable hospitals providing free treatment</p>
        </div>

        <!-- Step Indicator -->
        <div class="step-indicator">
            <div class="step completed">1</div>
            <div class="step active">2</div>
            <div class="step">3</div>
        </div>

        <!-- Page 2: Location Selection -->
        <div class="content-card">
            <h2>Select Hospital Category</h2>
            <p style="margin-bottom: 30px; color: #6c757d; font-size: 1.1rem;">
                Select the type of hospital you are looking for in <span id="selectedStateName"></span>.
            </p>
            
            <div class="form-group">
                <label for="category">Select Hospital Category:</label>
                <select id="category">
                    <option value="">-- Choose Category --</option>
                    <option value="private">Private Hospital</option>
                    <option value="government">Government Hospital</option>
                </select>
            </div>

            <!-- In-content Ad -->
            <div class="ad-banner">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-XXXXXXXXXX"
                     data-ad-slot="XXXXXXXXXX"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            </div>

            <div class="preview-box">
                <h4>📋 What you'll get in your PDF:</h4>
                <div class="hospital-item">🏥 Government District Hospitals</div>
                <div class="hospital-item">🏥 Primary Health Centers (PHCs)</div>
                <div class="hospital-item">🏥 Community Health Centers</div>
                <div class="hospital-item">🏥 Charitable Hospitals & NGOs</div>
                <div class="hospital-item">📞 Contact Numbers & Addresses</div>
                <div class="hospital-item">🕒 Working Hours & Emergency Info</div>
            </div>

            <a href="index.html" class="btn btn-secondary">← Back</a>
            <a href="#" class="btn" id="nextBtn" style="pointer-events: none; opacity: 0.6;">
                Get My Hospital List →
            </a>
        </div>

        <!-- Bottom Ad -->
        <div class="ad-banner">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-XXXXXXXXXX"
                 data-ad-slot="XXXXXXXXXX"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
        </div>
    </div>

    <!-- Sidebar Ad -->
    <div class="sidebar">
        <div class="ad-banner" style="margin: 0;">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-XXXXXXXXXX"
                 data-ad-slot="XXXXXXXXXX"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
        </div>
    </div>

    <!-- Popup Overlay -->
    <div class="popup-overlay" id="popupOverlay">
        <div class="popup">
            <button class="close-popup" onclick="closePopup()">&times;</button>
            <h3 style="margin-bottom: 20px; color: #2c3e50;">🚀 Special Offer!</h3>
            <p style="margin-bottom: 20px;">Get instant access to our premium hospital directory with exclusive features!</p>
            
            <!-- Popup Ad Space -->
            <div class="ad-banner" style="margin: 15px 0; min-height: 80px;">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-XXXXXXXXXX"
                     data-ad-slot="XXXXXXXXXX"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
            </div>
            
            <button class="btn" onclick="closePopup()" style="margin: 10px;">
                Continue to Download
            </button>
        </div>
    </div>

    <script>
        let hasShownScrollPopup = false;
        let hasShownExitPopup = false;
        // Get state from URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const selectedState = urlParams.get('state');
        
        // Update state name display
        if (selectedState) {
            const stateNames = {
                'andhra-pradesh': 'Andhra Pradesh',
                'arunachal-pradesh': 'Arunachal Pradesh',
                'assam': 'Assam',
                'bihar': 'Bihar',
                'chhattisgarh': 'Chhattisgarh',
                'goa': 'Goa',
                'gujarat': 'Gujarat',
                'haryana': 'Haryana',
                'himachal-pradesh': 'Himachal Pradesh',
                'jharkhand': 'Jharkhand',
                'karnataka': 'Karnataka',
                'kerala': 'Kerala',
                'madhya-pradesh': 'Madhya Pradesh',
                'maharashtra': 'Maharashtra',
                'manipur': 'Manipur',
                'meghalaya': 'Meghalaya',
                'mizoram': 'Mizoram',
                'nagaland': 'Nagaland',
                'odisha': 'Odisha',
                'punjab': 'Punjab',
                'rajasthan': 'Rajasthan',
                'sikkim': 'Sikkim',
                'tamil-nadu': 'Tamil Nadu',
                'telangana': 'Telangana',
                'tripura': 'Tripura',
                'uttar-pradesh': 'Uttar Pradesh',
                'uttarakhand': 'Uttarakhand',
                'west-bengal': 'West Bengal',
                'andaman-nicobar': 'Andaman and Nicobar Islands',
                'chandigarh': 'Chandigarh',
                'dadra-nagar-haveli': 'Dadra and Nagar Haveli',
                'daman-diu': 'Daman and Diu',
                'delhi': 'Delhi',
                'jammu-kashmir': 'Jammu and Kashmir',
                'ladakh': 'Ladakh',
                'lakshadweep': 'Lakshadweep',
                'puducherry': 'Puducherry'
            };
            
            document.getElementById('selectedStateName').textContent = stateNames[selectedState] || selectedState;
            
        }

        // Update next button with parameters
        document.getElementById('category').addEventListener('change', function() {
            updateNextButton();
        });

        function updateNextButton() {
            const category = document.getElementById('category').value;
            const nextBtn = document.getElementById('nextBtn');
            
            if (category) {
                const url = `download.html?state=${encodeURIComponent(selectedState)}&category=${encodeURIComponent(category)}`;
                nextBtn.href = url;
                nextBtn.style.pointerEvents = 'auto';
                nextBtn.style.opacity = '1';
            } else {
                nextBtn.href = '#';
                nextBtn.style.pointerEvents = 'none';
                nextBtn.style.opacity = '0.6';
            }
        }

        // Popup Functions
        function showScrollPopup() {
            if (!hasShownScrollPopup && !localStorage.getItem('popup_shown_today')) {
                document.getElementById('popupOverlay').style.display = 'block';
                hasShownScrollPopup = true;
                
                // Set flag to not show again today
                const today = new Date().toDateString();
                localStorage.setItem('popup_shown_today', today);
            }
        }

        function showExitPopup() {
            if (!hasShownExitPopup && !localStorage.getItem('exit_popup_shown')) {
                document.getElementById('popupOverlay').style.display = 'block';
                hasShownExitPopup = true;
                localStorage.setItem('exit_popup_shown', 'true');
            }
        }

        function closePopup() {
            document.getElementById('popupOverlay').style.display = 'none';
        }

        // Event Listeners
        let scrollTimeout;
        window.addEventListener('scroll', () => {
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(() => {
                const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
                if (scrollPercent > 60 && !hasShownScrollPopup) {
                    showScrollPopup();
                }
            }, 100);
        });

        // Exit intent detection
        document.addEventListener('mouseleave', (e) => {
            if (e.clientY <= 0) {
                showExitPopup();
            }
        });

        // Close popup when clicking outside
        document.getElementById('popupOverlay').addEventListener('click', (e) => {
            if (e.target === document.getElementById('popupOverlay')) {
                closePopup();
            }
        });

        // Clear daily popup flags if it's a new day
        const today = new Date().toDateString();
        if (localStorage.getItem('popup_shown_today') !== today) {
            localStorage.removeItem('popup_shown_today');
        }

        // Initialize AdSense
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</body>
</html>
